(function(){var t,e,n,o,i,r,u,l={}.hasOwnProperty;r=document.createElement("script"),r.src="https://www.youtube.com/player_api",i=document.getElementsByTagName("script"),t=i[i.length-1],t.parentNode.insertBefore(r,t),u="undefined"!=typeof exports&&null!==exports?exports:this,u.players=[],u.player_functions=[],u.isYTAPILoaded=!1,this.onYouTubePlayerAPIReady=function(){for(u.isYTAPILoaded=!0;u.player_functions.length;)u.player_functions.shift().call()},n=!1,this.onPlayerStateChange=function(t,e,n){var o;return 1!==t.data||n.onFirstSeekDone?void 0:(o=function(){return n.onFirstSeekDone=!0},$("#bit-box_"+e).isOnScreen(1,.8)||n.pauseVideo(),o())},e=function(t){var e,n,o,i;for(n=document.cookie.split(";"),o=0,i=n.length;i>o;o++)if(e=n[o],$.trim(e.split("=")[0])===t)return e.split("=")[1];return""},this.onPlayerReady=function(t,n,i,r){var a,s,f;return n.seekTo(i),a=function(){return $(".mute-bit-button").each(function(){return $(this).html('<i class="fa fa-volume-off fa-2x"></i><i class="fa fa-close mute-bit-icon"></i>')})},s=function(){return $(".mute-bit-button").each(function(){return $(this).html('<i class="fa fa-volume-up fa-2x"></i>')})},"true"===e("muted")?(a(),n.mute()):(s(),n.unMute()),$("#video--mute-box_"+t).hover(function(){return $("#mute-bit-button_"+t).animate({opacity:"0.6"},50)},function(){return $("#mute-bit-button_"+t).animate({opacity:"0"},50)}),$("#mute-bit-button_"+t).click(function(){var t,e,o,i;if(n.isMuted()){console.log("unmute"),s(),o=u.players;for(t in o)l.call(o,t)&&(e=o[t],u.players[t].unMute());return document.cookie="muted=false"}console.log("mute"),a(),i=u.players;for(t in i)l.call(i,t)&&(e=i[t],u.players[t].mute());return document.cookie="muted=true"}),n.oldVideoTime=i,f=function(){var t;return t=n.getCurrentTime(),t!==n.oldVideoTime||0===n.getPlayerState()?(o(t,n,i,r),n.oldVideoTime=t):void 0},setInterval(f,100)},o=function(t,e,n,o){return console.log(t+":"+o),t>=o?(e.seekTo(n),e.playVideo()):void 0},$(u).on("DOMContentLoaded load resize scroll",function(){return onVisibilityChange()}),u.isPlaying=!1,this.onVisibilityChange=function(){var t,e,n,o,i;o=u.players,i=[];for(e in o)l.call(o,e)&&(n=o[e],t="#video--mute-box_"+u.players[e].id,$(t).isOnScreen(1,.7)&&!u.isPlaying?(u.players[e].playVideo(),i.push(u.isPlaying=!0)):u.players[e].onFirstSeekDone?(u.players[e].pauseVideo(),i.push(u.isPlaying=!1)):i.push(void 0));return i},$(function(){return $(".bit-button").hover(function(){$(this).children("span").toggleClass("underline")})}),function(t){t.fn.isOnScreen=function(e,n){(null==e||"undefined"==typeof e)&&(e=1),(null==n||"undefined"==typeof n)&&(n=1);var o=t(u),i={top:o.scrollTop(),left:o.scrollLeft()};i.right=i.left+o.width(),i.bottom=i.top+o.height();var r=this.outerHeight(),l=this.outerWidth();if(!l||!r)return!1;var a=this.offset();a.right=a.left+l,a.bottom=a.top+r;var s=!(i.right<a.left||i.left>a.right||i.bottom<a.top||i.top>a.bottom);if(!s)return!1;var f={top:Math.min(1,(a.bottom-i.top)/r),bottom:Math.min(1,(i.bottom-a.top)/r),left:Math.min(1,(a.right-i.left)/l),right:Math.min(1,(i.right-a.left)/l)};return f.left*f.right>=e&&f.top*f.bottom>=n}}(jQuery)}).call(this);