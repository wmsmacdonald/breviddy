<script type="text/javascript">
    window.playerFunction_<%= quote.id %> = function() {

        window['hasPaused_<%= quote.id %>'] = false;
        window['videotime_<%= quote.id %>'] = 0;
        window.players['player_<%= quote.id %>'] = new YT.Player('ytplayer_<%= quote.id %>', {
            height: '300',
            width: '450',
            videoId: '<%= quote.urlId %>',
            playerVars: {'iv_load_policy': 3, 'controls': 0, 'rel': 0, 'showinfo': 0, 'modestbranding': 1},
            events: {
                'onReady': function () {
                    onPlayerReady(<%= quote.id %>, window.players.player_<%= quote.id %>, <%= quote.start %>, <%= quote.end %>);
                },
                'onStateChange': function (e) {
                    onPlayerStateChange(e, <%= quote.id %>, window.players.player_<%= quote.id %>, <%= quote.start %>);
                }
            }
        });

        $('#play-full-button_<%= quote.id %>').click(function () {
            $('#ytplayer_<%= quote.id %>').replaceWith('<div id="ytplayer_<%= quote.id %>" class="ytplayer"></div>');
            player_<%= quote.id %> = new YT.Player('ytplayer_<%= quote.id %>', {
                height: '300',
                width: '450',
                videoId: '<%= quote.urlId %>',
                playerVars: {'iv_load_policy': 3, autoplay: 1},
                events: {
                    'onReady': function () {
                        window.players.player_<%= quote.id %>.unMute();
                        window.players.player_<%= quote.id %>.playVideo();
                    }
                }
            });
        });
        window.players.player_<%= quote.id %>.onFirstSeekDone = false;
    }
</script>